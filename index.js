import{A as O,S as P,a as j,i as R}from"./assets/vendor-C6HZcDrf.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();(()=>{const e=document.querySelector(".js-menu-container"),s=document.querySelector(".js-open-menu"),r=document.querySelector(".js-close-menu"),n=()=>{const t=e.querySelectorAll('a[href*="#"]'),o=s.getAttribute("aria-expanded")==="true"||!1;if(s.setAttribute("aria-expanded",!o),e.classList.toggle("is-open"),t.length!==0){if(!o){t.forEach(i=>{i.addEventListener("click",n)});return}t.forEach(i=>{i.removeEventListener("click",n)})}};s.addEventListener("click",n),r.addEventListener("click",n),window.matchMedia("(min-width: 375px)").addEventListener("change",t=>{t.matches&&(e.classList.remove("is-open"),s.setAttribute("aria-expanded",!1))})})();const E=document.querySelector(".marquee"),b=document.querySelector(".marquee_class"),S=document.querySelectorAll(".marquee__square"),q=document.querySelectorAll(".marquee__square__2"),I=document.querySelector(".footer-line");document.querySelectorAll('a[href^="#"').forEach(e=>{e.addEventListener("click",function(s){s.preventDefault();let r=this.getAttribute("href").substring(1);const n=document.getElementById(r),t=document.querySelector(".header-navigation").offsetHeight,i=n.getBoundingClientRect().top-t;window.scrollBy({top:i,behavior:"smooth"})})});let m=document.querySelector("#switch"),M=document.querySelector("body"),f=localStorage.getItem("theme");const T=()=>{f==="dark"?p():h()},_=()=>{window.matchMedia("(prefers-color-scheme: dark").addEventListener("change",()=>{A()})},A=()=>{f==null&&window.matchMedia("(prefers-color-scheme: dark").matches||f&&window.matchMedia("(prefers-color-scheme: dark").matches?p():h()},p=()=>{M.classList="dark",E.classList.add("dark"),b.classList.add("dark"),S.forEach(e=>{e.classList.add("dark")}),q.forEach(e=>{e.classList.add("dark")}),I.classList.add("dark"),localStorage.setItem("theme","dark"),m.checked=!0},h=()=>{M.classList="light",E.classList.remove("dark"),b.classList.remove("dark"),S.forEach(e=>{e.classList.remove("dark")}),q.forEach(e=>{e.classList.remove("dark")}),I.classList.remove("dark"),localStorage.setItem("theme","dark"),localStorage.setItem("theme","light"),m.checked=!1};_();A();T();m.addEventListener("click",()=>m.checked?p():h());const x=document.querySelector(".mp-load-more-button"),d=document.querySelectorAll(".mp-list-item");let g=3,c=6;const y=3;function N(e){e.classList.add("visually-hidden")}function $(e){e.classList.remove("visually-hidden")}x.addEventListener("click",C);function C(){for(let e=g;e<c;e++)$(d[e]);c===d.length&&N(x),g+=y,c+=y,c>d.length&&(c=d.length)}const V=new O(".accordion-container");V.open(0);const v=document.querySelector(".js-reviews-wrapper");async function D(){const e="https://portfolio-js.b.goit.study/api/reviews";try{return(await j.get(e,{headers:{Accept:"application/json"}})).data}catch(s){const r=s.response?`Error ${s.response.status}: ${s.response.statusText}`:"Network error or server unavailable";throw F(r),s}}function H(e){return e.map(r=>{const{author:n,avatar_url:t,review:o}=r;return`
      <li class="reviews-wrapper-cart swiper-slide">
        <p class="reviews-descr">
          ${o}
        </p>
        <div class="reviews-autor-wrapper">
          <img
            class="reviews-autor-photo"
            width="40"
            height="40"
            src="${t}"
            alt="${n}"
          />
          <p class="reviews-autor-name">${n}</p>
        </div>
      </li>
    `}).join("")}function w(){v.innerHTML=`<div class="reviev-not-found-wrapper">
                              <p class="revievs-not-found">Not found</p></div>`}function z(e){R.error({title:"",message:e,position:"topRight",timeout:5e3})}function F(e){const s={root:null,threshold:.1},r=new IntersectionObserver(n=>{n.forEach(t=>{t.isIntersecting&&(z(e),r.unobserve(t.target))})},s);r.observe(v)}async function W(){try{const e=await D();e.length===0?w():v.insertAdjacentHTML("afterbegin",H(e))}catch(e){console.error("Error using reviews:",e),w()}}W();const a=new P(".swiper",{slidesPerView:1,spaceBetween:32,breakpoints:{1280:{slidesPerView:2}},navigation:{nextEl:".reviews-arrow-box-right",prevEl:".reviews-arrow-box-left",disabledClass:"disabled"},loop:!1});function Z(){const e=a.slides.length,s=a.activeIndex,r=window.innerWidth;a.navigation.prevEl.disabled=s===0,r>=1280?a.navigation.nextEl.disabled=s>=e-2:a.navigation.nextEl.disabled=s>=e-1}a.on("slideChange",Z);document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?a.slidePrev():e.key==="ArrowRight"&&a.slideNext()});document.getElementById("form").addEventListener("submit",async function(e){e.preventDefault();const s=document.getElementById("email"),r=document.getElementById("message"),n=document.getElementById("modal"),t=document.querySelector(".icon-ok"),o=document.querySelector(".send-btn"),i={email:s.value,comment:r.value};o.disabled=!0;try{const l=await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const B=await l.json();alert(`Error: ${B.message}`);return}n.style.display="block",s.value="",r.value="",t.style.display="none"}catch(l){console.error("Error:",l),alert("Your request failed. Please try again later")}finally{o.disabled=!1}});document.querySelector(".modal-close-btn").addEventListener("click",function(){const e=document.getElementById("modal");e.style.display="none"});const u=document.getElementById("email"),L=document.querySelector(".icon-ok"),k=document.getElementById("email-error"),J=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;u.addEventListener("input",function(){J.test(u.value)?(u.classList.remove("invalid"),k.style.display="none",L.style.display="block"):(u.classList.add("invalid"),k.style.display="block",L.style.display="none")});
//# sourceMappingURL=index.js.map
